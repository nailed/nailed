--- ../src-base/minecraft/net/minecraft/network/NetHandlerPlayServer.java
+++ ../src-work/minecraft/net/minecraft/network/NetHandlerPlayServer.java
@@ -319,7 +319,7 @@
 
                 AxisAlignedBB axisalignedbb = this.field_147369_b.field_70121_D.func_72329_c().func_72314_b((double)f3, (double)f3, (double)f3).func_72321_a(0.0D, -0.55D, 0.0D);
 
-                if (!this.field_147367_d.func_71231_X() && !this.field_147369_b.field_71134_c.func_73083_d() && !worldserver.func_72829_c(axisalignedbb)) {
+                if (!this.field_147367_d.func_71231_X() && !this.field_147369_b.field_71075_bZ.field_75101_c && !worldserver.func_72829_c(axisalignedbb)) {
                     if (d11 >= -0.03125D) {
                         ++this.field_147365_f;
 
@@ -356,9 +356,9 @@
         this.field_147369_b.func_143004_u();
 
         if (p_147345_1_.func_149506_g() == 4) {
-            this.field_147369_b.func_71040_bB(false);
+            if(jk_5.nailed.server.NailedEventFactory.firePlayerDropStack(this.field_147369_b, false)) this.field_147369_b.func_71040_bB(false);
         } else if (p_147345_1_.func_149506_g() == 3) {
-            this.field_147369_b.func_71040_bB(true);
+            if(jk_5.nailed.server.NailedEventFactory.firePlayerDropStack(this.field_147369_b, true)) this.field_147369_b.func_71040_bB(true);
         } else if (p_147345_1_.func_149506_g() == 5) {
             this.field_147369_b.func_71034_by();
         } else {
@@ -431,8 +431,9 @@
             if (itemstack == null) {
                 return;
             }
-
+            if(!jk_5.nailed.server.NailedEventFactory.firePlayerRightClickAir(this.field_147369_b)){
             this.field_147369_b.field_71134_c.func_73085_a(this.field_147369_b, worldserver, itemstack);
+            }
         } else if (p_147346_1_.func_149571_d() >= this.field_147367_d.func_71207_Z() - 1 && (p_147346_1_.func_149568_f() == 1 || p_147346_1_.func_149571_d() >= this.field_147367_d.func_71207_Z())) {
             ChatComponentTranslation chatcomponenttranslation = new ChatComponentTranslation("build.tooHigh", new Object[] {Integer.valueOf(this.field_147367_d.func_71207_Z())});
             chatcomponenttranslation.func_150256_b().func_150238_a(EnumChatFormatting.RED);
@@ -499,9 +500,7 @@
     public void func_147231_a(IChatComponent p_147231_1_) {
         field_147370_c.info(this.field_147369_b.func_70005_c_() + " lost connection: " + p_147231_1_);
         this.field_147367_d.func_147132_au();
-        ChatComponentTranslation chatcomponenttranslation = new ChatComponentTranslation("multiplayer.player.left", new Object[] {this.field_147369_b.func_145748_c_()});
-        chatcomponenttranslation.func_150256_b().func_150238_a(EnumChatFormatting.YELLOW);
-        this.field_147367_d.func_71203_ab().func_148539_a(chatcomponenttranslation);
+        jk_5.nailed.server.NailedEventFactory.firePlayerLeft(this.field_147369_b);
         this.field_147369_b.func_71123_m();
         this.field_147367_d.func_71203_ab().func_72367_e(this.field_147369_b);
 
@@ -569,8 +568,13 @@
             if (s.startsWith("/")) {
                 this.func_147361_d(s);
             } else {
-                ChatComponentTranslation chatcomponenttranslation1 = new ChatComponentTranslation("chat.type.text", new Object[] {this.field_147369_b.func_145748_c_(), s});
-                this.field_147367_d.func_71203_ab().func_148544_a(chatcomponenttranslation1, false);
+                //Nailed start
+                String ret = jk_5.nailed.server.NailedEventFactory.firePlayerChat(this.field_147369_b, p_147354_1_.func_149439_c());
+                if(ret != null){
+                    ChatComponentTranslation chatcomponenttranslation1 = new ChatComponentTranslation("chat.type.text", this.field_147369_b.func_145748_c_(), ret);
+                    this.field_147367_d.func_71203_ab().func_148544_a(chatcomponenttranslation1, false);
+                }
+                //Nailed end
             }
 
             this.field_147374_l += 20;
@@ -589,6 +593,7 @@
         this.field_147369_b.func_143004_u();
 
         if (p_147350_1_.func_149421_d() == 1) {
+            jk_5.nailed.server.NailedEventFactory.firePlayerLeftClickAir(field_147369_b);
             this.field_147369_b.func_71038_i();
         }
     }
@@ -651,6 +656,8 @@
 
         switch (NetHandlerPlayServer.SwitchEnumState.field_151290_a[enumstate.ordinal()]) {
             case 1:
+                jk_5.nailed.server.NailedEventFactory.onPlayerRespawn(this.field_147369_b);
+                if(true) break;
                 if (this.field_147369_b.field_71136_j) {
                     this.field_147369_b = this.field_147367_d.func_71203_ab().func_72368_a(this.field_147369_b, 0, true);
                 } else if (this.field_147369_b.func_71121_q().func_72912_H().func_76093_s()) {
@@ -991,6 +998,18 @@
                 } else {
                     containerrepair.func_82850_a("");
                 }
+            }else if(p_147349_1_.func_149559_c().equals("REGISTER")){
+                String channels = new String(p_147349_1_.func_149558_e(), io.netty.util.CharsetUtil.UTF_8);
+                for(String channel : channels.split("\0")){
+                    jk_5.nailed.server.NailedServer$.MODULE$.getPlayerFromEntity(field_147369_b).addChannel(channel);
+                }
+            }else if(p_147349_1_.func_149559_c().equals("UNREGISTER")){
+                String channels = new String(p_147349_1_.func_149558_e(), io.netty.util.CharsetUtil.UTF_8);
+                for(String channel : channels.split("\0")){
+                    jk_5.nailed.server.NailedServer$.MODULE$.getPlayerFromEntity(field_147369_b).removeChannel(channel);
+                }
+            }else{
+                jk_5.nailed.server.NailedServer$.MODULE$.getMessenger().dispatchIncomingMessage(jk_5.nailed.server.NailedServer$.MODULE$.getPlayerFromEntity(field_147369_b), p_147349_1_.func_149559_c(), p_147349_1_.func_149558_e());
             }
         }
     }
